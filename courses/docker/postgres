How to create a postgresql docker container

# step 0 - cerate docker network
docker network create -d bridge --subnet=172.18.0.0/16 services

# step 1 - create the container to init the DB
docker run -d --name pg-dbms \
--net services --ip 172.18.0.20 \
-e POSTGRES_PASSWORD=s3cr3t \
-e PGPASSWORD=s3cr3t \
postgres:11

# step 2 - copy DB dir to the host
docker cp pg-dbms:/var/lib/postgresql/data /media/ed/memory/pg

# step 3 - stop the container
docker stop pg-dbms

# step 4 - remove the container
docker rm pg-dbms

# step 5 - recreate with volume
docker run -d --name pg-dbms \
--net services --ip 172.18.0.20 \
-e POSTGRES_PASSWORD=s3cr3t \
-e PGPASSWORD=s3cr3t \
-v /media/ed/memory/pg:/var/lib/postgresql/data \
postgres:11